## Flutter ListenableBuilder

1. ListenableBuilder란?
   ListenableBuilder는 Flutter에서 특정 데이터(상태)의 변화를 감지하고, 그 변화에 따라 UI의 특정 부분만 효율적으로 다시 그려주는 위젯 
   마치 '똑똑한 요리 보조'처럼, 특정 '정보판'을 계속 지켜보고 있다가 내용이 바뀌면 즉시 알려주고, 바뀐 내용에 맞춰 '어떤 요리(UI)를 해야 할지' 알려주는 역할

2. listenable: viewModel (지켜볼 정보판)
   listenable 속성: ListenableBuilder에게 어떤 객체의 변화를 지켜볼 것인가를 지정하는 부분

SavedRecipesViewModel은 ChangeNotifier라는 믹스인(mixin)을 사용
ChangeNotifier는 자신의 상태가 변했을 때, 자신을 '듣고 있는' 다른 객체들에게 notifyListeners() 메서드를 통해 바뀐 신호를 보낼 수 있는 기능을 제공

결론: listenable: viewModel은 ListenableBuilder -> viewModel의 상태 변화를 계속 확인 역할
viewModel 내부의 데이터(_isLoading, _savedRecipes 등)가 변경되고 notifyListeners()가 호출되면, ListenableBuilder는 이 변화를 감지

3. builder: (context, child) (정보판이 바뀌었을 때 할 일)
   builder 속성: ListenableBuilder가 listenable 객체의 변화를 감지했을 때 무엇을 다시 그릴 것인가? 정의하는 함수
   이 함수는 두 가지 인자를 받는다 context와 child.

# context (BuildContext) - 내 위치와 주변 환경 정보

context는 현재 위젯이 위젯 트리(Widget Tree) 내에서 어디에 위치하는지를 알려주는 고유한 참조, 위젯 트리는 앱의 UI를 구성하는 위젯들의 계층적 구조를 의미

# context를 통해 다음과 같은 일들을 할 수 있음 
예시)
상위/조상 위젯의 데이터나 서비스에 접근: 
Theme.of(context) (앱 테마), 
MediaQuery.of(context) (화면 크기/방향), 
Navigator.of(context) (화면 이동), 
Provider.of<T>(context) (상태 관리 데이터) 등등

자신만의 고유한 식별자: Flutter는 context를 사용하여 위젯 트리 내에서 특정 위젯을 식별하고 관리

요약: context는 위젯 트리의 특정 지점에 있는 위젯의 위치에 대한 참조이며, 이를 통해 해당 위젯은 주변 환경 정보를 얻고 상위 위젯의 기능에 접근할 수 있음

# child - 변하지 않는 부분은 따로 주기

child 인자는 builder 함수가 다시 실행될 때 재빌드할 필요가 없는(변하지 않는) 위젯을 효율적으로 전달하고 재사용하기 위해 사용

ListenableBuilder의 builder 함수는 listenable 객체가 변경될 때마다 전체가 다시 실행됨 
만약 builder 함수 내에 정적인 UI 부분이 있다면, 이 부분을 child로 미리 전달하고 builder 함수 내에서 child 인자를 사용하면 불필요한 재빌드를 막아 성능을 최적화 가능

요약: child는 정적인 UI 요소를 효율적으로 재사용하여 불필요한 위젯 재빌드를 줄이고 성능을 향상시킴

- 동작 방식 요약
ListenableBuilder는 listenable 속성에 지정된 viewModel을 '주시'

viewModel 내부의 상태가 변경되고 notifyListeners()가 호출되면, ListenableBuilder는 이 변화를 감지

변화가 감지되면 ListenableBuilder는 builder 함수를 다시 실행

builder 함수는 context를 통해 현재 위젯의 위치와 환경 정보를 활용하고, viewModel의 최신 상태(로딩 중, 에러 발생, 데이터 유무 등)에 따라 적절한 UI(
로딩 스피너, 에러 메시지, 레시피 목록 등)를 반환하여 화면을 업데이트 
이때 child 인자를 통해 변하지 않는 부분을 효율적으로 재사용할 수 있음